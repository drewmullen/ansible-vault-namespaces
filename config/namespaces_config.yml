---

# Usage Overview:
# pki enable works but cannot promote to ca
# no spaces after commas

namespace_config:

  root:
      ldap: true
      policies: default,ns_admin
      associations:
        - path: auth/ldap/groups/admins
          policies: ns_admin

  namespace_1:
      ldap: true
      policies: default,secret_rw
      associations:
        - path: auth/ldap/groups/group_1
          policies: secret_rw
      engines:
        - mount_type: kv
          mount_name: secret
          version: 2

  namespace_1/child_1:
      ldap: true
      engines:
        - mount_type: kv
          mount_name: secret
          version: 2
          #max_ttl: 50m
          #default_ttl: 5m
        - mount_type: pki
          mount_name: pki
          ca_int: true
          #version: 1
      approles:
        - role: my_app
          #max_ttl: 50m

      policies: default,ns_admin,pki_user
      associations:
        - path: auth/ldap/groups/admins_2
          policies: pki_user
