---

# Approle

# Azure
- name: "configure {{ auth.auth_type }} auth method in {% if ns_name == 'root'%}{% else %}{{ ns_name }}{% endif %}"
  hashivault_azure_auth_config:
    mount_point: "{{ auth.auth_name | default(auth.auth_type) }}"
    config_file: "{{ playbook_dir }}/auths/{{ auth.auth_type }}/config/{{ auth_config }}.json"
    namespace: "{% if ns_name == 'root'%}{% else %}{{ ns_name }}{% endif %}"
  when: auth.auth_type | lower == 'azure'